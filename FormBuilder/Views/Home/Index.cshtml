@model FormBuilder.Models.LoginModel
@{
    ViewBag.Title = "Angular FormBuilder";
}
@functions{
    public string GetAntiForgeryToken()
    {
        string cookieToken, formToken;
        AntiForgery.GetTokens(null, out cookieToken, out formToken);
        return cookieToken + ":" + formToken;                
    }
}

<header>
    
</header>
<div id="main-content" data-ng-app="formBuilder">
@if (@User.Identity.IsAuthenticated)
{
    <nav class="navbar navbar-inverse" role="navigation">
        +
	    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-ex1-collapse">
          <span class="sr-only">Toggle navigation</span>
          <i class="fa fa-cog"></i>ss
        </button>
        <a class="navbar-brand" href="#/dashboard">Form Builder</a>
      </div>

      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="navbar-collapse navbar-ex1-collapse collapse" style="height: 1px;">
          <ul class="nav navbar-nav navbar-right">              
              <li>						
                    <a href="#/dashboard">
                        <i class="fa fa-home"></i>
                        Dashboard                        
                    </a>						
                </li>
              
              <li>						
                    <a href="#/newForm">
                        <i class="fa fa-plus"></i>
                        New form                        
                    </a>						
                </li>
                            
              <li class="dropdown">
						
                  <a href="javscript:;" class="dropdown-toggle" data-toggle="dropdown">
                      <i class="fa fa-cog"></i>
                      Settings
                      <b class="caret"></b>
                  </a>
			
                  <ul class="dropdown-menu">
                      <li><a href="./account.html">Account Settings</a></li>
                      <li><a href="javascript:;">Privacy Settings</a></li>
                      <li class="divider"></li>
                      <li><a href="javascript:;">Help</a></li>
                  </ul>
			
              </li>

              <li class="dropdown">
						
                  <a href="javscript:;" class="dropdown-toggle" data-toggle="dropdown">
                      <i class="fa fa-user"></i> 
                      @ViewBag.UserName
                      <b class="caret"></b>
                  </a>
			
                  <ul class="dropdown-menu">
                      <li><a href="javascript:;">My Profile</a></li>
                      <li><a href="javascript:;">My Groups</a></li>
                      <li class="divider"></li>
                      <li><a href="javascript:;">Logout</a></li>
                  </ul>
			
              </li>
          </ul>
    
        <form class="navbar-form navbar-right" role="search">
          <div class="form-group">
            <input type="text" class="form-control input-sm search-query" placeholder="Search">
          </div>
        </form>
      </div><!-- /.navbar-collapse -->
    </div> <!-- /.container -->
    </nav>    
    <div data-ng-view></div> <!-- The SPA Views go here -->   
}
else
{
    @Html.Partial("_Authentication")
}
</div>

@if (@User.Identity.IsAuthenticated)
{
    <input id="antiForgeryToken" type="hidden" value="@GetAntiForgeryToken()" />      

    @section scripts {
        @Scripts.Render("~/bundles/angular")
        @Scripts.Render("~/bundles/todo")
    }
}